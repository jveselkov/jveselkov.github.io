{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte",
    "../../Board.svelte",
    "../../Field.svelte"
  ],
  "sourcesContent": [
    "<script>\n\timport Board from './components/Board.svelte'\n</script>\n\n<main>\n  <Board />\n</main>\n\n<style>\n  :root{\n    --base-color: #d8e3e9;\n    --light-color: #ffffff;\n    --dark-color: #959da1;\n    --button-light-color: #e7f3f9;\n    --button-dark-color: #c2ccd2;\n    --text-color: #2B303A;\n    --alert-color: #D64933;\n\n    --ball-color-1: #C2F9BB;\n    --ball-color-2: #8D6A9F;\n    --ball-color-3: #F9F8F8;\n    --ball-color-4: #DDA448;\n    --ball-color-5: #BB342F;\n  }\n  main {\n    height: 100%;\n    font-size: 1.2rem;\n  }\n</style>",
    "<script>\n  import Field from './Field.svelte'\n\n  import { \n    createNewTable, \n    moveBallOnTable, \n    checkLines, \n    eraseTableCells,\n    gameOver,\n    addBall,\n    checkAvailableCell,\n    getPoints,\n    getNewBalls\n  } from '../helpers/table.js'\n\n  let selected\n  let table\n  let score\n  let nextBalls\n\n  function dropSelected() {\n    selected = {\n      rowIndex: null,\n      cellIndex: null\n    }\n  }\n  \n  function initGame() {\n    dropSelected()\n    table = createNewTable()\n    score = 0\n    nextBalls = [...getNewBalls()]\n  }\n  \n  function cellClick(rowIndex, cellIndex) {\n    if (selected.rowIndex === rowIndex && selected.cellIndex === cellIndex) {\n      dropSelected()\n\n      return\n    }\n\n    selected = {\n      rowIndex,\n      cellIndex\n    } \n  }\n\n  async function emptyCellClick(rowIndex, cellIndex) {\n    if (selected.rowIndex == undefined \n      && selected.cellIndex == undefined) {\n      \n      return\n    }\n    let moved = false \n    \n    if (checkAvailableCell(table, selected.rowIndex, selected.cellIndex, rowIndex, cellIndex)) {\n      table = moveBallOnTable(table, selected.rowIndex, selected.cellIndex, rowIndex, cellIndex)\n      moved = true\n    }\n    \n    const isErase = await check(rowIndex, cellIndex)\n\n    if (gameOver(table)) {\n      console.log('game over') \n\n      return\n    }\n\n    if (moved && !isErase) {\n      nextBalls.forEach( ball => {\n        table = addBall(table, ball)\n      })\n      // await check()\n      nextBalls = getNewBalls()\n    }\n    \n    dropSelected()\n  }\n\n  async function check(rowIndex, cellIndex) {\n    return new Promise(resolve => {\n      setTimeout( () => {\n        const lines = checkLines(table, rowIndex, cellIndex)\n\n        if (lines.length !== 0) {\n          score += getPoints(lines.length)\n\n          table = eraseTableCells(table, lines)\n          resolve(true)\n        }\n\n        resolve(false)\n      }, 500)\n    })\n  }  \n\n  initGame()\n\n</script>\n\n<div class=\"top-panel\">\n  <h2>Score: {score}</h2>\n\n  {#each nextBalls as ball}\n    <Field\n      color={ball}\n    />\n  {/each}\n\n  <button \n    on:click={() => initGame()}\n  >restart</button>\n</div>\n\n<div class=\"board\">\n  {#each table as row, rowIndex}\n    <div class=\"row\">\n      {#each row as cell, cellIndex}\n        <Field \n          color={cell}\n          selected={selected.rowIndex === rowIndex && selected.cellIndex === cellIndex}\n          on:cell-click={()=> cellClick(rowIndex, cellIndex)}\n          on:empty-cell-click={()=> emptyCellClick(rowIndex, cellIndex)}\n        />\n      {/each}\n    </div>\n  {/each}\n</div>\n\n<style>\n  .board {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n  .top-panel {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n  }\n  .top-panel h2,\n  .top-panel button {\n    display: inline-flex;\n    margin: 1em;\n  }\n  h2 {\n    color: var(--text-color);\n    text-shadow: 0.2em 0.2em 0.4em var(--dark-color), \n                -0.2em -0.2em 0.4em var(--light-color);\n  }\n  button {\n    border: none;\n    color: var(--text-color);\n    text-shadow: 0.2em 0.2em 0.4em var(--dark-color), \n                -0.2em -0.2em 0.4em var(--light-color);\n    border-radius: 3px;\n    background: linear-gradient(145deg, var(--button-light-color), var(--button-dark-color));\n    box-shadow:  0.2em 0.2em 0.4em var(--dark-color), \n                -0.2em -0.2em 0.4em var(--light-color);\n  }\n\n  button:active{\n    background: linear-gradient(145deg, var(--button-dark-color), var(--button-light-color));\n  }\n\n  .row {\n    display: inline-flex; \n  }\n</style>",
    "<script>\n  export let color\n  export let selected\n\n  import { createEventDispatcher } from 'svelte'\n\timport { fade } from 'svelte/transition'\n\n\n\tconst dispatch = createEventDispatcher()\n\n  $: style = color !== undefined  \n              ? `background: radial-gradient(circle at 0.5em 0.5em, var(--ball-color-${color}), #000);`\n              : ''\n\n  $: classes = color !== undefined \n              ? `ball filled${selected ? ' bounce' : ''}` \n              : 'ball'\n\n  function clickBall () {\n    if (!color) {\n      dispatch('empty-cell-click')\n      \n      return\n    }\n\n    dispatch('cell-click')\n  }\n</script>\n\n<div \n  class=\"field\"\n  on:click={clickBall}\n> \n  {#if color}\n    <div \n      in:fade=\"{{duration: 250 }}\"\n      out:fade\n      {style}\n      class={classes}\n    ></div>\n  {/if}\n</div>\n\n<style>\n  .field {\n    position: relative;\n    margin: 0.2em;\n    height: 2em;\n    width: 2em;\n    border-radius: 10%;\n    background: var(--base-color);\n    box-shadow:  0.2em 0.2em 0.4em var(--dark-color), \n                -0.2em -0.2em 0.4em var(--light-color);\n  }\n\n  .ball{\n    position: absolute;\n    top: 15%;\n    left: 15%;\n    border-radius: 50%;\n    height: 70%;\n    width: 70%;\n  }\n\n  .ball.filled{    \n    box-shadow:  0.2em 0.2em 0.4em var(--dark-color), \n                -0.2em -0.2em 0.4em var(--light-color);\n  }\n\n  .ball.bounce {\n    animation-name: ball-bounce;\n    animation-iteration-count: infinite;\n    animation-duration: 1s;\n    animation-timing-function: cubic-bezier(0.5, 0.5, 0.5, 0.5);\n  }\n  \n  @keyframes ball-bounce {    \n    0%   { transform: translate3d(0px, 0px, 0) scale3d(0.9, 1.1, 1);}\n    25%  { transform: translate3d(0, 4px, 0) scale3d(1.1, 0.9, 1);}\n    50%  { transform: translate3d(0px, 0px, 0) scale3d(0.9, 1.1, 1);}\n    75%  { transform: translate3d(0px, -4px, 0) scale3d(1, 1, 1);}\n    100% { transform: translate3d(0px, -4px, 0) scale3d(1, 1, 1);}\n  }\n</style>"
  ],
  "names": [],
  "mappings": "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"
}